KISSY.add("page/index-init",function(a){var b=a.DOM,c=a.Event;return indexControl={msg:null,chart:null,chart1:null,chart2:null,init:function(){indexControl.getMoneyAjax(),indexControl.getBackAjax(),indexControl.getMemberAjax(),c.on(".J_MemberSale","click",function(a){window.location.href=memberSaleFromTbUrl})},getMoneyAjax:function(){var b=function(b){indexControl.chart&&indexControl.chart.destroy(),jQuery(function(){jQuery("#demo1").highcharts({chart:{type:"line",height:330,width:995,spacingLeft:0,spacingRight:0,spacingBottom:15,spacingTop:15},title:{text:"",verticalAlign:"bottom",y:35,"float":!0},colors:["#8bd167","#4dc1e8","#fb6e52","#ffce55","#656d78","#ac92ed","#ec87c1","#4b89dc","#db4453","#d8ad88","#00d39f","#a2b1c7","#5937ae","#bc3783"],plotOptions:{series:{stickyTracking:!1,marker:{symbol:"circle"}}},xAxis:{categories:b.payload.xdata,tickInterval:2,labels:{step:b.payload.xkuadu}},yAxis:{title:{text:null},minPadding:0,maxPadding:0,lineWidth:1,gridLineWidth:1,labels:{formatter:function(){return this.value*100+"%"},format:"{value}%"}},legend:{enabled:!0,borderWidth:0},credits:{enabled:!1},tooltip:{formatter:function(){return"<b>"+this.x+"\u53f7"+"</b>: "+this.y*100+" %"}},series:[]})});var c=b.payload.data;indexControl.chart=jQuery("#demo1").highcharts(),a.each(c,function(a,b){indexControl.chart.addSeries(a)})},c=function(a){};(new H.widget.asyncRequest).setURI(getSaleAjaxUrl).setMethod("POST").setHandle(b).setErrorHandle(c).setData(null).send()},getBackAjax:function(){var b=function(b){indexControl.chart1&&indexControl.chart1.destroy(),jQuery(function(){jQuery("#demo2").highcharts({chart:{type:"line",height:330,width:995,spacingLeft:0,spacingRight:0,spacingBottom:15,spacingTop:15},title:{text:"",verticalAlign:"bottom",y:35,"float":!0},colors:["#8bd167","#4dc1e8","#fb6e52","#ffce55","#656d78","#ac92ed","#ec87c1","#4b89dc","#db4453","#d8ad88","#00d39f","#a2b1c7","#5937ae","#bc3783"],plotOptions:{series:{stickyTracking:!1,marker:{symbol:"circle"}}},xAxis:{categories:b.payload.xdata,tickInterval:2,labels:{step:b.payload.xkuadu}},yAxis:{title:{text:null},minPadding:0,maxPadding:0,lineWidth:1,gridLineWidth:1,labels:{formatter:function(){return this.value*100+"%"},format:"{value}%"}},tooltip:{formatter:function(){return"<b>"+this.x+"\u53f7"+"</b>: "+this.y*100+" %"}},legend:{enabled:!0,borderWidth:0},credits:{enabled:!1},series:[]})});var c=b.payload.data;indexControl.chart1=jQuery("#demo2").highcharts(),a.each(c,function(a,b){indexControl.chart1.addSeries(a)})},c=function(a){};(new H.widget.asyncRequest).setURI(getBackAjaxUrl).setMethod("POST").setHandle(b).setErrorHandle(c).setData(null).send()},getMemberAjax:function(){var a=function(a){indexControl.chart2&&indexControl.chart2.destroy(),jQuery(function(){chart=new Highcharts.Chart({chart:{renderTo:"demo3",width:500,type:"pie",spacingLeft:15,spacingRight:0,spacingBottom:30,spacingTop:15},title:{text:" ","float":!0},colors:["#8bd167","#4dc1e8","#4b89dc","#656d78","#d8ad88"],yAxis:{title:{text:" "},labels:{format:"{value}"}},plotOptions:{pie:{shadow:!1,startAngle:0,borderWidth:0,center:[100,60],point:{events:{legendItemClick:function(){return!1}}}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.point.percentage.toFixed(2)+" %"}},legend:{layout:"vertical",backgroundColor:"#FFFFFF",floating:!0,align:"left",borderWidth:0,verticalAlign:"top",x:220,y:30,labelFormatter:function(){return'<div style="margin-bottom:15px;"><span style="font-weight:700;color:#656d78;">'+Highcharts.numberFormat(this.y/a.payload.total*100,2)+"%</span>  "+'<span style="color:#abb3be;">'+this.name+"</span></div>"}},credits:{enabled:!1},series:[{name:" ",data:a.payload.items,size:"60%",innerSize:"40%",showInLegend:!0,dataLabels:{enabled:!1}}]})})},b=function(a){};(new H.widget.asyncRequest).setURI(memberFromTbUrl).setMethod("POST").setHandle(a).setErrorHandle(b).setData(null).send()}}},{requires:[]}); 