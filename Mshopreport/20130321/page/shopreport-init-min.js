KISSY.add("page/shopreport-init",function(a){return diagnosis={chart:null,init:function(){diagnosis.showReportView(),diagnosis.praiseReportView(),diagnosis.praisePieView(),diagnosis.stagflationPieView(),diagnosis.showMap(),diagnosis.crmPieView();var b=DOM.children("#J_memberList");a.each(b,function(a){Event.on(a,"mouseenter mouseleave",function(b){b.type=="mouseenter"?DOM.addClass(a,"current"):b.type=="mouseleave"&&DOM.removeClass(a,"current")})})},showReportView:function(){diagnosis.chart=new Highcharts.Chart({chart:{renderTo:"J_overall",height:300,marginBottom:60},title:{text:"  "},credits:{enabled:!1},legend:{floating:!0,align:"left",x:370,y:5},xAxis:{categories:xCategories,labels:{step:1}},yAxis:[{lineWidth:1,tickWidth:1,title:{align:"high",offset:0,text:"",rotation:0,y:-10},min:0}],tooltip:{formatter:function(){var a;return a=""+this.x+"\u53f7: "+this.y,a}},series:[{type:"spline",name:"\u9500\u552e\u989d",data:salesMoney},{type:"spline",name:"\u9500\u552e\u5b9d\u8d1d\u6570",data:salesNum},{type:"spline",name:"\u5173\u5217\u9500\u552e",data:salesAssociated}]})},praiseReportView:function(){diagnosis.chart=new Highcharts.Chart({chart:{renderTo:"J_praise",height:300,marginBottom:60},title:{text:"  "},credits:{enabled:!1},legend:{floating:!0,align:"left",x:200,y:5},xAxis:{categories:xCategories,labels:{step:1}},yAxis:[{lineWidth:1,tickWidth:1,title:{align:"high",offset:0,text:"",rotation:0,y:-10},min:0}],tooltip:{formatter:function(){var a;return a=""+this.x+"\u53f7: "+this.y,a}},series:[{type:"spline",name:"\u597d\u8bc4",data:praise},{type:"spline",name:"\u4e2d\u8bc4",data:neutral},{type:"spline",name:"\u5dee\u8bc4",data:bad}]})},praisePieView:function(){chart=new Highcharts.Chart({chart:{renderTo:"J_praisePieView",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,height:250},credits:{enabled:!1},title:{text:null},tooltip:{pointFormat:"<b>{point.percentage}%</b>",percentageDecimals:1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return this.point.name}}}},series:[{type:"pie",name:"Browser share",data:[["\u4e2d\u8bc4",neutralPie],["\u5dee\u8bc4",badPie],{name:"\u597d\u8bc4",y:praisePie,sliced:!0,selected:!0}]}]})},stagflationPieView:function(){chart=new Highcharts.Chart({chart:{renderTo:"J_stagflation",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,height:250},credits:{enabled:!1},title:{text:null},tooltip:{pointFormat:"<b>{point.percentage}%</b>",percentageDecimals:1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return this.point.name}}}},series:[{type:"pie",name:"Browser share",data:[["\u6709\u9500\u91cf\u7684\u5b9d\u8d1d",hasSales],{name:"\u6ede\u6da8\u5b9d\u8d1d",y:stagflation,sliced:!0,selected:!0}]}]})},showMap:function(){function a(){var a=new AliMap("mapDiv",{steplessZoom:!0}),b=new(Jla.get("Ali.Map.Control.Cube"));a.addControl(b),b.addConfigByJson({areas:mapAreas}),b.showMap("0"),a.getAreaColor=function(a,b){var c;return b&&b.title?c=parseFloat(b.title.split(" ")[0])/mapAreasBig:c=.01,AliMapCubeControl.getLinearColor("#9fccff","#1556a1",c)},b.setFocusColor("#ffe167"),b.setNbgLineStyle({color:"#136bd4",weight:1}),a.getInfoWindow().setRender("Ali.Map.Panel.Pointer.SmartPointer",{borderWidth:1,borderStyle:{backgroundColor:"#eee"},containerStyle:{backgroundColor:"#eee"},titleStyle:{color:"red"},contentStyle:{color:"#666"},pointerStyle:{color:"#fff",borderColor:"#fff",borderWidth:2,opacity:.7}}),AliEvent.addListener(a,"areafocus",function(b,c){var d=c&&c.title?c.title:"\u6682\u65e0\u6570\u636e";a.openInfoWindow(b.cp,'<font style="font-size:20px">'+b.name+"</font>",d)})}Jla.require("Ali.Map.Control.Cube"),Jla.require("Ali.Map.Panel.Pointer.SmartPointer"),Jla.onReady(a)},crmPieView:function(){chart=new Highcharts.Chart({chart:{renderTo:"J_crmPieView",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,height:500},credits:{enabled:!1},title:{text:null},tooltip:{pointFormat:"<b>{point.percentage}%</b>",percentageDecimals:1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return this.point.name}}}},series:[{type:"pie",data:memChartData}]})}}},{requires:[]}); 